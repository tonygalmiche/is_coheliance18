<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <record id="is_account_invoice_line_tree_view" model="ir.ui.view">
            <field name="name">is_account_invoice_line_tree_view</field>
            <field name="model">is.account.invoice.line</field>
            <field name="arch" type="xml">
                <list>
                    <field name="date_invoice"/>
                    <field name="invoice_id" widget="many2one_clickable"/>
                    <field name="move_type"/>
                    <field name="partner_id" widget="many2one_clickable"/>
                    <field name="state"/>
                    <field name="product_id" widget="many2one_clickable"/>
                    <field name="description"/>
                    <field name="affaire_id" widget="many2one_clickable"/>
                    <field name="account_line_id"/>
                    <field name="quantity"       sum="Total"/>
                    <field name="price_unit"/>
                    <field name="price_subtotal" sum="Total"/>
                </list>
            </field>
        </record>
        <record id="is_account_invoice_line_form_view" model="ir.ui.view">
            <field name="name">is_account_invoice_line_form_view</field>
            <field name="model">is.account.invoice.line</field>
            <field name="arch" type="xml">
                <form>
                    <sheet>
                        <group>
                            <field name="invoice_id"/>
                            <field name="number"/>
                            <field name="date_invoice"/>
                            <field name="move_type"/>
                            <field name="partner_id"/>
                            <field name="journal_id"/>
                            <field name="state"/>
                            <field name="product_id"/>
                            <field name="description"/>
                            <field name="affaire_id"/>
                            <field name="account_line_id"/>
                            <field name="quantity"/>
                            <field name="price_unit"/>
                            <field name="price_subtotal"/>
                        </group>
                    </sheet>
                </form>
            </field>
        </record>
        <record id="is_account_invoice_line_search_view" model="ir.ui.view">
            <field name="name">is_account_invoice_line_search_view</field>
            <field name="model">is.account.invoice.line</field>
            <field name="arch" type="xml">
                <search string="Recherche">
                    <field name="number"/>
                    <field name="date_invoice"/>
                    <field name="move_type"/>
                    <field name="partner_id" />
                    <!-- <field name="account_id"/> -->
                    <field name="journal_id"/>
                    <field name="state"/>
                    <field name="product_id"/>
                    <field name="description"/>
                    <field name="affaire_id"/>
                    <field name="account_line_id"/>
                    <group string="Regroupement par">
                        <filter string="Client / Fournisseur"  name="group_by_partner_id"   context="{'group_by': 'partner_id'}"/>
                        <filter string="Mois de facturation"   name="group_bydate_invoice_" context="{'group_by': 'date_invoice:month'}"/>
                        <filter string="Type"                  name="group_by_move_type"    context="{'group_by': 'move_type'}"/>
                        <filter string="Etat"                  name="group_by_state"        context="{'group_by': 'state'}"/>
                    </group>
                </search>
            </field>
        </record>
        <record id="is_account_invoice_line_graph" model="ir.ui.view">
            <field name="name">is_account_invoice_line_graph</field>
            <field name="model">is.account.invoice.line</field>
            <field name="arch" type="xml">
                <pivot>
                    <field name="partner_id"      type="row"/>
                    <field name="move_type"       type="col"/>
                    <field name="price_subtotal"  type="measure"/>
                </pivot>
            </field>
        </record>
        <record id="is_account_invoice_line_action" model="ir.actions.act_window">
            <field name="name">Lignes de factures</field>
            <field name="res_model">is.account.invoice.line</field>
            <field name="view_mode">list,form,pivot</field>
        </record>
    </data>
</odoo>
